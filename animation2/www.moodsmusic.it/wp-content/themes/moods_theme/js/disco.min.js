jQuery(function(t){function a(){r=t("#disco li.disco-track"),f=t(window).width()<1600?"223px":"293px",numberOfElements=1===p?r.length:r.length-1,u=360*p/numberOfElements,h=0;r.each(function(a){var n=t(this),i=u*a+d;n.css({transform:"rotate("+i+"deg) translate("+f+") rotate(0deg)"}),n.data("rotation",i)}),c=Circles.create({id:"circle-inner",radius:t(window).width()>=1600?222:169,width:t(window).width()>=1600?4:2,value:0,colors:["transparent","#eee"],text:null})}function n(){now=new Date,g=now,h+=1,y||requestAnimationFrame(i)}function i(){r.each(function(a){var n=t(this),i=u*a+d+h;n.css({transform:"rotate("+i+"deg) translate("+f+") rotate(0deg)"}),n.attr("data-rotation",i)}),setTimeout(function(){t("#disco").length>0&&n()},210)}function e(){t("#disco").css("top",t(window).height()/2-100+"px")}function o(){if(Globals.isPlaying){var a=Globals.isPlaying.next().length>0?Globals.isPlaying.next():t("#audio1");l(a)}else l(t("#audio1"))}function s(){if(Globals.isPlaying){var a=Globals.isPlaying.prev().length>0?Globals.isPlaying.prev():t("#audio11");l(a)}else l(t("#audio1"))}function l(a){""!=Globals.isPlaying?(Globals.isPlaying[0].pause(),Globals.isPlaying[0].currentTime=0):t("#start-play").fadeOut("slow",function(){t("#player").fadeIn()}),t("#track-title-container").html(a.data("title")),Globals.isPlaying=a,Globals.isPlaying[0].play()}var c=null,r=t("#disco li.disco-track"),d=0,u=0,f=0,p=-.9,h=0,g=new Date;t("form").addClass("apply-nolazy"),a(),setTimeout(function(){t("#disco-center").fadeIn("fast",function(){r.addClass("animate")}),n()},200);var y=!1;t(".disco-track span").on("mouseenter",function(){y||(y=!0,$this=t(this).parent(),t("#track-hover").css({transform:"rotate("+$this.attr("data-rotation")+"deg)","-webkit-transform":"rotate("+$this.attr("data-rotation")+"deg)","-moz-transform":"rotate("+$this.attr("data-rotation")+"deg)"}),c.getValue()<=0&&c.update(100))}),t(".disco-track span").on("mouseout",function(){y=!1,c.update(0),setTimeout(function(){y||n()},700)}),e(),t(window).resize(function(){a(),e()}),t(".disco-track").click(function(){document.getElementById("wave-canvas").dispatchEvent(Globals.stopEvent),l(t(t(this).data("play")))}),t("#start-play").click(function(){document.getElementById("wave-canvas").dispatchEvent(Globals.stopEvent),l(t("#audio1"))}),t(".audio-track").on("ended",function(){o()}),t(".audio-track").on("timeupdate",function(){t(".progress-in").css("width",this.currentTime/this.duration*100+"%")}),t("#progressbar").on("click",function(a){var n=a.offsetX/this.offsetWidth;Globals.isPlaying[0].currentTime=n*Globals.isPlaying[0].duration,t(".progress-in").css("width",n/100+"%")}),t("#player-play").click(function(){document.getElementById("wave-canvas").dispatchEvent(Globals.stopEvent),Globals.isPlaying[0].play(),t(this).hide(),t("#player-pause").show()}),t("#player-pause").click(function(){Globals.isPlaying[0].pause(),t(this).hide(),t("#player-play").show(),setTimeout(function(){Globals.isPlaying[0].paused&&!Globals.audioPlaying&&document.getElementById("wave-canvas").dispatchEvent(Globals.playEvent)},500)}),t("#player-next").click(function(){o()}),t("#player-back").click(function(){s()}),t("#form-caller").click(function(){t("#disco-showcase-big-container").fadeOut("fast",function(){t("#disco-form-container").fadeIn()})}),t("#disco-form-closer").click(function(){t("#disco-form-container").fadeOut("fast",function(){t("#disco-showcase-big-container").fadeIn()})})});